<?xml version="1.0" encoding="UTF-8"?>
<itop_design xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0">
  <constants>
  </constants>
  <classes>
    <class id="PhysicalInterface" _delta="must_exist">
      <relations>
        <relation id="impacts" _delta="define">
          <neighbours>
            <neighbour id="datacenterdevice">
              <query_down>SELECT DatacenterDevice WHERE networkA_id = :this-&gt;id OR networkB_id = :this-&gt;id</query_down>
              <query_up>SELECT PhysicalInterface WHERE id = :this-&gt;networkA_id OR id = :this-&gt;networkB_id</query_up>
            </neighbour>
          </neighbours>
        </relation>
      </relations>
    </class>
    <class id="DatacenterDevice" _delta="must_exist">
      <properties/>
      <fields>
        <field id="networkA_id" xsi:type="AttributeExternalKey" _delta="define">
          <filter><![CDATA[SELECT PhysicalInterface  WHERE connectableci_id= :this->id]]></filter>
          <sql>networka_id</sql>
          <target_class>PhysicalInterface</target_class>
          <is_null_allowed>true</is_null_allowed>
          <on_target_delete>DEL_MANUAL</on_target_delete>
          <allow_target_creation>false</allow_target_creation>
        </field>
        <field id="networkA_name" xsi:type="AttributeExternalField" _delta="define">
          <extkey_attcode>networkA_id</extkey_attcode>
          <target_attcode>name</target_attcode>
        </field>
        <field id="networkB_id" xsi:type="AttributeExternalKey" _delta="define">
          <filter><![CDATA[SELECT PhysicalInterface  WHERE connectableci_id= :this->id]]></filter>
          <sql>networkB_id</sql>
          <target_class>PhysicalInterface</target_class>
          <is_null_allowed>true</is_null_allowed>
          <on_target_delete>DEL_MANUAL</on_target_delete>
          <allow_target_creation>false</allow_target_creation>
        </field>
        <field id="networkB_name" xsi:type="AttributeExternalField" _delta="define">
          <extkey_attcode>networkB_id</extkey_attcode>
          <target_attcode>name</target_attcode>
        </field>
        <field id="redundancy_network" xsi:type="AttributeRedundancySettings" _delta="define">
          <sql>redundancy_network</sql>
          <relation_code>impacts</relation_code>
          <from_class>PhysicalInterface</from_class>
          <neighbour_id>datacenterdevice</neighbour_id>
          <enabled>true</enabled>
          <enabled_mode>fixed</enabled_mode>
          <min_up>1</min_up>
          <min_up_type>count</min_up_type>
          <min_up_mode>fixed</min_up_mode>
        </field>
      </fields>
      <methods/>
      <presentation/>
    </class>
    <class id="Server" _delta="must_exist">
      <presentation>
        <details _delta="merge">
          <items>
            <item id="col:col2">
              <items>
                <item id="fieldset:Server:networkfarm">
                  <rank>40</rank>
                  <items>
                    <item id="networkA_id">
                      <rank>10</rank>
                    </item>
                    <item id="networkB_id">
                      <rank>20</rank>
                    </item>
                    <item id="redundancy_network">
                      <rank>30</rank>
                    </item>
                  </items>
                </item>
              </items>
            </item>
          </items>
        </details>
      </presentation>
    </class>
  </classes>
  <user_rights>
  </user_rights>
</itop_design>
